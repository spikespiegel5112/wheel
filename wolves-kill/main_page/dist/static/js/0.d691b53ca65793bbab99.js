webpackJsonp([0],{CBLI:function(t,e,i){t.exports=i.p+"static/img/activitydescribebanner_00000.84e39f0.jpg"},"IfH/":function(t,e,i){e=t.exports=i("UTlt")(!1),e.push([t.i,"",""])},gJ4q:function(t,e,i){var n=i("IfH/");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("FIqI")("606e6e12",n,!1,{})},ocYf:function(t,e,i){t.exports=i.p+"static/img/exampleavatar.cd65626.png"},tRaV:function(t,e,i){t.exports=i.p+"static/img/activitybanner_00000.97c8485.jpg"},wrM5:function(t,e,i){"use strict";function n(t){u||i("gJ4q")}Object.defineProperty(e,"__esModule",{value:!0});var a=(i("NQGu"),i("XG+O")),s=(a.a,{name:"wolveskill",components:{Confirm:a.a},data:function(){return{getUserInfoByTokenRequest:"uaa/user",addUserSchoolRequest:"profile-service/1.0.0/user_school/addUserSchool",check_join_activityRequest:"promotion-service/1.0.0/offline_activity/check_join_activity",participate_activityRequest:"promotion-service/1.0.0/offline_activity/participate_activity",getUserActivityInfoRequest:"promotion-service/1.0.0/offline_activity/getUserActivityInfo",find_votes_rankingRequest:"promotion-service/1.0.0/offline_activity/find_votes_ranking",fnvalleySdkInstance:{},tabList:[{title:"活动",name:"activity"},{title:"详情",name:"detail"},{title:"投票排名",name:"rank"},{title:"精彩现场",name:"scene"}],rankListData:[{title:"我本人更可爱"}],activeTabIndex:0,alreadyParticipatedFlag:!1,activityBeganFlag:!1,confirmState:"default",confirmFlag:!1,rejectFlag:!1,redirectingFlag:!0,unauthorizedFlag:!1,successfulFlag:!1,downloadUrl:"",remUnit:0}},computed:{channel:function(){return this.$route.query.channel||""},loginId:function(){return this.$route.query.loginId||""},isActivity:function(){return new Date("July 21, 2018 00:00:00")>=new Date("July 21, 2018 00:00:00")},tabBarWidth:function(){return 16*this.tabList[this.activeTabIndex].title.length+"px"}},watch:{},beforeCreate:function(){},beforeMount:function(){console.log(this.$route),this.$vux.loading.show({text:"Loading"}),"canvass"===this.$route.query.routeto?(this.$vux.loading.hide(),this.reInitializePage()):this.redirectingFlag=!1},mounted:function(){var t=this;console.log(this.redirectingFlag),this.redirectingFlag||(this.$remResizing({fontSize:20}),this.$autoHeight({target:".wolveskill_main_container"}),console.log(window),""===this.$store.state.accessToken?this.$getAccessToken().then(function(e){t.$getUserLoginId().then(function(e){t.getRankList(),t.getUserActivityInfo(),t.anchorEvent(),t.$nextTick(function(){t.remUnit=Number(document.getElementsByTagName("html")[0].style.fontSize.replace("px",""))})})}):(this.getRankList(),this.getUserActivityInfo(),this.anchorEvent(),this.$nextTick(function(){t.remUnit=Number(document.getElementsByTagName("html")[0].style.fontSize.replace("px",""))}))),console.log("process.env.NODE_ENV","development")},methods:{reInitializePage:function(){var t="channel="+this.channel+"$activityId="+this.activityId;location.assign("https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx67c26ff8068af257&redirect_uri="+this.$domainUrl+"/canvass&response_type=code&scope=snsapi_userinfo&state="+t+"#wechat_redirect")},anchorEvent:function(){var t=this,e=document.getElementById("block2").scrollTop,i=[{name:"block1",height:function(){return document.getElementById("block1").scrollTop}()},{name:"block2",height:function(){return document.getElementById("block2").scrollTop}()},{name:"block3",height:function(){return document.getElementById("block3").scrollTop}()}];console.log("blockDictionary",i[2].height),window.onscroll=function(n){var a=document.body.scrollTop||document.documentElement.scrollTop,s=0;document.getElementById("block1").scrollTop,document.getElementById("block2").scrollTop,document.getElementById("block3").scrollTop;i.forEach(function(t,e){a>t.height&&(s=e)}),t.anchorIndex=s,console.log(t.anchorIndex),console.log(e)}},getUserActivityInfo:function(){var t=this;alert(this.$store.state.accessToken),this.$http.get(this.$baseUrl+this.getUserActivityInfoRequest+"/"+this.$store.state.activityId+"/"+this.$store.state.loginId,{headers:{Authorization:"Bearer "+this.$store.state.accessToken}}).then(function(e){console.log("getUserActivityInfo",e),e=e.data,0!==e.userActivityId&&(t.alreadyParticipatedFlag=!0),t.userInfoData=e,t.$vux.loading.hide()}).catch(function(e){console.log(e),t.$vux.confirm.show({showCancelButton:!1,title:"getUserActivityInfo_error"+e,onConfirm:function(){}})})},getRankList:function(){var t=this;this.$http.get(this.$baseUrl+this.find_votes_rankingRequest+"/"+this.$store.state.activityId,{pageSize:8}).then(function(e){console.log(e),e=e.data,t.rankListData=e,t.$vux.loading.hide()}).catch(function(t){console.log(errpr)})},handleTabClick:function(t){console.log(t),this.activeTabIndex=t},getMore:function(){this.$router.push({name:"rankList"})},participate:function(){this.$router.push({name:"participate"})},checkPerson:function(t,e){this.$router.push({name:"canvass",query:{state:"loginId="+t.loginId+"$userActivityId="+t.userActivityId}})},checkResult:function(){this.$router.push({name:"registrationResult",query:{userActivityId:this.userInfoData.userActivityId}})}}}),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"common_main_container"},[t.redirectingFlag?n("div",{staticClass:"common_initializing_item"}):n("div",{staticClass:"wolveskill_main_container"},[n("div",{staticClass:"wolveskill_tab_container"},[n("tab",{attrs:{"line-width":2,"custom-bar-width":t.tabBarWidth,"default-color":"#000","active-color":"#F9535D"}},t._l(t.tabList,function(e,i){return n("tab-item",{key:i,attrs:{selected:t.activeTabIndex===i},on:{"on-item-click":t.handleTabClick}},[t._v("\n            "+t._s(e.title)+"\n          ")])}))],1),t._v(" "),n("div",{staticClass:"wolveskill_tabcontent_container"},[n("div",{staticClass:"activitydescribe"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("div",{staticClass:"wolveskill_block_wrapper",attrs:{id:"block3"}},[n("h1",{staticClass:"title"},[n("span"),n("label",[t._v("投票排名")]),t._v(" "),n("a",{on:{click:t.getMore}},[t._v("更多")])]),t._v(" "),n("div",{staticClass:"ranklist"},[n("ul",t._l(t.rankListData,function(e,a){return n("li",{staticClass:"wolveskill_rank_item",style:{borderBottom:"1px solid #ccc"},on:{click:function(i){t.checkPerson(e,a)}}},[0===a?n("span",{staticClass:"gold"}):1===a?n("span",{staticClass:"silver"}):2===a?n("span",{staticClass:"bronze"}):n("span",[t._v(t._s(a+1))]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"avatar"},[""!==e.userImage&&null!==e.userImage?n("img",{attrs:{src:e.userImage}}):n("img",{attrs:{src:i("ocYf")}})]),t._v(" "),n("label",[t._v(t._s(e.loginId))])])])}))]),t._v(" "),t._m(3)])])])]),t._v(" "),n("div",{staticClass:"wolveskill_participatebutton_wrapper"},[t.alreadyParticipatedFlag?n("div",{staticClass:"successful"},[n("label",[t._v("您已报名成功")]),t._v(" "),n("a",{staticClass:"participatebutton",on:{click:t.checkResult}},[t._v("报名结果")])]):n("div",{staticClass:"unsuccessful"},[n("a",{staticClass:"participatebutton",on:{click:t.participate}},[t._v("我要参加")])])])])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wolveskill_block_wrapper"},[n("img",{attrs:{src:i("tRaV")}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wolveskill_block_wrapper",attrs:{id:"block1"}},[i("div",{staticClass:"main"},[i("ul",[i("li",[i("label",[t._v("主办方")]),t._v(" "),i("span",[t._v("趣谷官方")])]),t._v(" "),i("li",[i("label",[t._v("活动地址")]),t._v(" "),i("span",[t._v("西安市")])]),t._v(" "),i("li",[i("label",[t._v("活动日期")]),t._v(" "),i("span",[t._v("2018年12月30日-2018年12月23日")])]),t._v(" "),i("li",[i("label",[t._v("报名日期")]),t._v(" "),i("span",[t._v("2018年12月30日-2018年12月11日")])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wolveskill_block_wrapper",attrs:{id:"block2"}},[n("h1",{staticClass:"title"},[n("span"),n("label",[t._v("活动详情")])]),t._v(" "),n("div",{staticClass:"activitydetail"},[n("div",{staticClass:"banner"},[n("img",{attrs:{src:i("CBLI")}})]),t._v(" "),n("p",[t._v("\n                离开电子游戏的虚拟世界，回归现实的人际交往在游戏思维碰撞的过程中，进行相互的认识和交流。离开电子游戏的虚拟世界，回归现实的人际交往在游戏思维碰撞的过程中，进行相互的认识和交流。离开电子游戏的虚拟世界，回归现实的人际交往在游戏思维碰撞的过程中，进行相互的认识和交流。\n              ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ranklistrules"},[i("h2",[t._v("榜单说明：")]),t._v(" "),i("p",[t._v("\n                榜单说明：趣谷西安高校线下狼人杀友谊赛人气选手榜单，榜单前8名将拥有参加高校联赛决赛的比赛资格，并获得由xxx提供的人气选手奖励一份\n              ")])])}];o._withStripped=!0;var l={render:o,staticRenderFns:c},r=l,u=!1,v=i("C7Lr"),d=n,h=v(s,r,!1,d,"data-v-df02a584",null);h.options.__file="src/components/HomePage.vue";e.default=h.exports}});