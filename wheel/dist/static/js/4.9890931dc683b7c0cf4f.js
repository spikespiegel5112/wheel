webpackJsonp([4],{Q1u7:function(n,t,e){t=n.exports=e("UTlt")(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},SRUp:function(n,t,e){n.exports=e.p+"static/img/emptyprize_00000.cc5906c.png"},m8Lj:function(n,t,e){"use strict";function i(n){e("nEZJ")}Object.defineProperty(t,"__esModule",{value:!0});var a=e("uAC3"),r=e.n(a),o={name:"Promotion",data:function(){return{queryRewardTraceByLoginIdRequest:"promotion-service/1.0.0/rotary_table_activity/queryRewardTraceByLoginId",rotatingFlag:!1,accessToken:"",emptyPrizeFlag:!0,prizeData:[],loading:!1}},computed:{userActivityId:function(){return this.$route.query.state},identityCode:function(){return this.$route.query.state},wechatAuthCode:function(){return this.$route.query.code},stateCode:function(){return this.$route.query.state},token:function(){return this.$route.params.token}},watch:{token:function(){this.accessToken=this.token}},beforeMount:function(){},mounted:function(){this.$remResizing({fontSize:20}),console.log(this.$route.query.token),this.getMyPrizeData()},methods:{getMyPrizeData:function(){var n=this,t=this;this.loading=!0,this.$http.get(this.$baseUrl+this.queryRewardTraceByLoginIdRequest,{params:{loginId:this.$route.query.loginId,productDetail:"all"},headers:{Authorization:"Bearer "+r.a.get("wheel-accessToken")}}).then(function(t){console.log(t),n.loading=!1,t=t.data,n.emptyPrizeFlag=0===t.length,n.prizeData=t}).catch(function(e){n.loading=!1,console.log(e),401===e.status&&n.$vux.confirm.show({showCancelButton:!1,title:"当前手机号失效，请重新登录",onConfirm:function(){t.$router.push({name:"wheel"}),r.a.remove("wheel-accessToken"),r.a.remove("wheel-loginId")}})})}}},s=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"wheel_acceptprize_wrapper"},[i("CommonLoading",{attrs:{loading:n.loading}}),n._v(" "),n.emptyPrizeFlag?n._e():i("div",{staticClass:"prizedescribe"},[n.prizeData.length>0?i("ul",{staticClass:"main"},n._l(n.prizeData,function(t){return i("li",[i("div",{staticClass:"prizetitle"},[i("img",{staticClass:"icon",attrs:{src:n.$replaceProtocol(t.product.icon)+"-style_100x100"}}),n._v(" "),i("div",{staticClass:"title"},[i("label",[n._v(n._s(t.rewardName))]),n._v(" "),i("div",{staticClass:"prize"},[i("span",[n._v("￥"+n._s(t.product.originalPrice))])])])]),n._v(" "),i("div",{staticClass:"productfeature"},[i("div",{staticClass:"title"},[i("h1",[n._v("产品特点")]),n._v(" "),i("router-link",{staticClass:"wheel_product_button",attrs:{to:{name:"acceptPrize",query:{rewardStr:t.rewardStr}}}},[n._v("\n              立即领取\n            ")])],1),n._v(" "),i("div",{staticClass:"productbanner"},[i("img",{staticClass:"icon",attrs:{src:n.$replaceProtocol(t.product.image)+"-style_600x300"}})])])])})):n._e()]),n._v(" "),!n.loading&&n.emptyPrizeFlag?i("div",{staticClass:"empty"},[i("div",{staticClass:"main"},[i("h1",[n._v("暂无奖品")]),n._v(" "),i("img",{attrs:{src:e("SRUp")}}),n._v(" "),i("p",[n._v("领取奖品手机号："+n._s(n.$route.query.loginId))])])]):n._e()],1)},c=[],l={render:s,staticRenderFns:c},u=l,d=e("vSla"),p=i,h=d(o,u,!1,p,"data-v-105691b4",null);t.default=h.exports},nEZJ:function(n,t,e){var i=e("Q1u7");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("FIqI")("46a39c84",i,!0,{})}});